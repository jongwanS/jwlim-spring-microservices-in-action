# 5. 스프링 클라우드 컨피그 서버로 구성 관리
- `애플리케이션 구성 정보`와 **코드를 분리하는 것은 중요**하다.
  - 분리 될시, 구성이 변경 될때 마다 컴파일 및 배포 불필요
- 많은 개발자가 `프로퍼티 파일(YAML, JSON, XML)`을 사용해 구성 정보를 저장한다. 
  - 애플리케이션 수가 적은 경우 효과가 있을수 있다.
  - 하지만, 수백 개의 서비스가 있을 경우에는 이 방식은 문제가 된다.

> 클라우드 기반 마이크로서비스 개발을 위한 모범 사례
> - 코드와 구성 정보를 완전히 분리한다.
> - 여러 환경에서도 절대 변경되지 않는 **불변 애플리케이션 이미지를 빌드**한다.
> - 서버가 시작할 때, **환경변수** 또는 **중앙 저장소**를 통해 **모든 애플리케이션 구성 정보를 주입**한다.

## 5.1 구성(그리고 복잡성) 관리
- 서비스 배포를 위해 수동으로 구성하거나 건드릴 경우 실수가 있을 수 있음.
  - 구성 불일치(configuration drift), 예기치 않은 장애, 확장시 위한 지연 시간 발생
- **구성 관리를 위해 지킬 네 가지 원칙**
  - `분리`
    - 서비스 물리적 배포에서 서비스 **구성 정보를 완전히 분리**해야 한다.
  - `추상화`
    - 애플리케이션 구성 정보를 조회하는 데 저장소(파일, DB)를 직접 읽기 보다는, 데이터 접근 방식을 추상화하여 **REST기반 JSON을 사용**해야 한다.
  - `중앙 집중화`
    - **가능한 적은 수의 저장소**로 애플리케이션 구성 정보를 모아야 한다.
  - `견고화`
    - 애플리케이션 구성 정보는 중앙 집중화되므로, **가용성**이 높고 **이중화**가 필요하다.
- **명심해야 할 핵심 사항 중 하나**
  - `애플리케이션 구성 데이터`는 `추적 가능`하며, `버전을 제어`할 수 있어야 한다.
## 5.2 스프링 클라우드 컨피그 서버 구축
## 5.3 스프링 클라우드 컨피그와 스프링 부트 클라이언트 통합
## 5.4 중요한 구성 정보 보호
## 5.5 마치며
## 5.6 요약
